# Ù…Ø¯ÛŒØ±ÛŒØª Ú©Ù†Ù†Ø¯Ù‡ Ú©Ø§Ù†Ø§Ù„â€ŒÙ‡Ø§ÛŒ ØªÙ„Ú¯Ø±Ø§Ù… Ù†Ø³Ø®Ù‡ 2.0

<div align="center">

![Version](https://img.shields.io/badge/version-2.0.0-blue.svg)
![Node](https://img.shields.io/badge/node-%3E%3D18.0.0-green.svg)
![Status](https://img.shields.io/badge/status-Production%20Ready-brightgreen.svg)

**Ø³ÛŒØ³ØªÙ… Ø­Ø±ÙÙ‡â€ŒØ§ÛŒ Ù…Ø¯ÛŒØ±ÛŒØª Ú©Ø§Ù†Ø§Ù„â€ŒÙ‡Ø§ÛŒ ØªÙ„Ú¯Ø±Ø§Ù… Ø¨Ø§ API RESTful**

[ÙˆÛŒÚ˜Ú¯ÛŒâ€ŒÙ‡Ø§](#-ÙˆÛŒÚ˜Ú¯ÛŒâ€ŒÙ‡Ø§) â€¢ [Ø´Ø±ÙˆØ¹ Ø³Ø±ÛŒØ¹](#-Ø´Ø±ÙˆØ¹-Ø³Ø±ÛŒØ¹) â€¢ [Ù…Ø³ØªÙ†Ø¯Ø§Øª API](#-Ù…Ø³ØªÙ†Ø¯Ø§Øª-api) â€¢ [Ø§Ø³ØªÙ‚Ø±Ø§Ø±](#-Ø§Ø³ØªÙ‚Ø±Ø§Ø±) â€¢ [Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ](#-Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ)

</div>

## ğŸ“‹ ÙÙ‡Ø±Ø³Øª Ù…Ø·Ø§Ù„Ø¨

- [Ù…Ø¹Ø±ÙÛŒ](#-Ù…Ø¹Ø±ÙÛŒ)
- [ÙˆÛŒÚ˜Ú¯ÛŒâ€ŒÙ‡Ø§](#-ÙˆÛŒÚ˜Ú¯ÛŒâ€ŒÙ‡Ø§)
- [Ù†ÛŒØ§Ø²Ù…Ù†Ø¯ÛŒâ€ŒÙ‡Ø§ÛŒ Ø³ÛŒØ³ØªÙ…](#-Ù†ÛŒØ§Ø²Ù…Ù†Ø¯ÛŒâ€ŒÙ‡Ø§ÛŒ-Ø³ÛŒØ³ØªÙ…)
- [Ø´Ø±ÙˆØ¹ Ø³Ø±ÛŒØ¹](#-Ø´Ø±ÙˆØ¹-Ø³Ø±ÛŒØ¹)
- [Ù†ØµØ¨](#-Ù†ØµØ¨)
- [Ù¾ÛŒÚ©Ø±Ø¨Ù†Ø¯ÛŒ](#-Ù¾ÛŒÚ©Ø±Ø¨Ù†Ø¯ÛŒ)
- [Ù…Ø³ØªÙ†Ø¯Ø§Øª API](#-Ù…Ø³ØªÙ†Ø¯Ø§Øª-api)
- [Ù¾Ù†Ù„ Ù…Ø¯ÛŒØ±ÛŒØª](#-Ù¾Ù†Ù„-Ù…Ø¯ÛŒØ±ÛŒØª)
- [Ø§Ø³ØªÙ‚Ø±Ø§Ø± Ø¨Ø§ Docker](#-Ø§Ø³ØªÙ‚Ø±Ø§Ø±-Ø¨Ø§-docker)
- [Ø³Ø§Ø®ØªØ§Ø± Ø¯ÛŒØªØ§Ø¨ÛŒØ³](#-Ø³Ø§Ø®ØªØ§Ø±-Ø¯ÛŒØªØ§Ø¨ÛŒØ³)
- [Ù…Ø­Ø¯ÙˆØ¯ÛŒØª Ù†Ø±Ø® Ø¯Ø±Ø®ÙˆØ§Ø³Øª](#-Ù…Ø­Ø¯ÙˆØ¯ÛŒØª-Ù†Ø±Ø®-Ø¯Ø±Ø®ÙˆØ§Ø³Øª)
- [Ù…Ø§Ù†ÛŒØªÙˆØ±ÛŒÙ†Ú¯](#-Ù…Ø§Ù†ÛŒØªÙˆØ±ÛŒÙ†Ú¯)
- [Ø§Ù…Ù†ÛŒØª](#-Ø§Ù…Ù†ÛŒØª)
- [Ø¹ÛŒØ¨â€ŒÛŒØ§Ø¨ÛŒ](#-Ø¹ÛŒØ¨â€ŒÛŒØ§Ø¨ÛŒ)

## ğŸ¯ Ù…Ø¹Ø±ÙÛŒ

Ù…Ø¯ÛŒØ±ÛŒØª Ú©Ù†Ù†Ø¯Ù‡ Ú©Ø§Ù†Ø§Ù„â€ŒÙ‡Ø§ÛŒ ØªÙ„Ú¯Ø±Ø§Ù… ÛŒÚ© Ø±Ø§Ù‡â€ŒØ­Ù„ Ø¬Ø§Ù…Ø¹ Ø¨Ø±Ø§ÛŒ Ù…Ø¯ÛŒØ±ÛŒØª Ú†Ù†Ø¯ÛŒÙ† Ú©Ø§Ù†Ø§Ù„ ØªÙ„Ú¯Ø±Ø§Ù… Ø¨Ù‡ ØµÙˆØ±Øª Ø¨Ø±Ù†Ø§Ù…Ù‡â€ŒÙ†ÙˆÛŒØ³ÛŒ Ø§Ø³Øª. Ø§ÛŒÙ† Ø³ÛŒØ³ØªÙ… API RESTful Ù‚Ø¯Ø±ØªÙ…Ù†Ø¯ØŒ Ù…Ø§Ù†ÛŒØªÙˆØ±ÛŒÙ†Ú¯ Ø¨Ù„Ø§Ø¯Ø±Ù†Ú¯ Ùˆ Ù¾Ù†Ù„ Ù…Ø¯ÛŒØ±ÛŒØª Ø´Ù‡ÙˆØ¯ÛŒ Ø¨Ø±Ø§ÛŒ Ø¹Ù…Ù„ÛŒØ§Øª Ù…ÙˆØ«Ø± Ú©Ø§Ù†Ø§Ù„â€ŒÙ‡Ø§ ÙØ±Ø§Ù‡Ù… Ù…ÛŒâ€ŒÚ©Ù†Ø¯.

### Ù…Ø²Ø§ÛŒØ§ÛŒ Ú©Ù„ÛŒØ¯ÛŒ
- **Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ú†Ù†Ø¯ Ø³Ø´Ù†**: Ù…Ø¯ÛŒØ±ÛŒØª Ù‡Ù…Ø²Ù…Ø§Ù† Ú†Ù†Ø¯ÛŒÙ† Ø§Ú©Ø§Ù†Øª ØªÙ„Ú¯Ø±Ø§Ù…
- **ØªÙˆØ²ÛŒØ¹ Ø¨Ø§Ø± Ù‡ÙˆØ´Ù…Ù†Ø¯**: Ø§Ù†ØªØ®Ø§Ø¨ Ø®ÙˆØ¯Ú©Ø§Ø± Ø³Ø´Ù† Ø¨Ø± Ø§Ø³Ø§Ø³ Ø¸Ø±ÙÛŒØª
- **Ø§Ù…Ù†ÛŒØª Ø³Ø§Ø²Ù…Ø§Ù†ÛŒ**: Ø§Ø­Ø±Ø§Ø² Ù‡ÙˆÛŒØª Ú©Ù„ÛŒØ¯ API Ø¨Ø§ Ù…Ø¬ÙˆØ²Ù‡Ø§ÛŒ Ø¯Ù‚ÛŒÙ‚
- **Ù…Ø§Ù†ÛŒØªÙˆØ±ÛŒÙ†Ú¯ Ù„Ø­Ø¸Ù‡â€ŒØ§ÛŒ**: Ù…ØªØ±ÛŒÚ©â€ŒÙ‡Ø§ Ùˆ Ù…Ø§Ù†ÛŒØªÙˆØ±ÛŒÙ†Ú¯ Ø³Ù„Ø§Ù…Øª Ø²Ù†Ø¯Ù‡
- **Ù…Ø­Ø¯ÙˆØ¯ÛŒØª Ù†Ø±Ø®**: Ø­ÙØ§Ø¸Øª Ø¯Ø§Ø®Ù„ÛŒ Ø¯Ø± Ø¨Ø±Ø§Ø¨Ø± Ù…Ø­Ø¯ÙˆØ¯ÛŒØªâ€ŒÙ‡Ø§ÛŒ API ØªÙ„Ú¯Ø±Ø§Ù…
- **ÛŒÚ©Ù¾Ø§Ø±Ú†Ú¯ÛŒ Ø¯ÛŒØªØ§Ø¨ÛŒØ³**: Ø±Ø¯ÛŒØ§Ø¨ÛŒ Ú©Ø§Ù…Ù„ Ùˆ Ø¢Ù…Ø§Ø±
- **Ù¾Ù†Ù„ Ù…Ø¯ÛŒØ±ÛŒØª**: Ø±Ø§Ø¨Ø· Ù…Ø¯ÛŒØ±ÛŒØª ØªØ­Øª ÙˆØ¨

## âœ¨ ÙˆÛŒÚ˜Ú¯ÛŒâ€ŒÙ‡Ø§

### ğŸš€ Ø¹Ù…Ù„ÛŒØ§Øª Ú©Ø§Ù†Ø§Ù„
- **Ø¹Ø¶ÙˆÛŒØª Ø¯Ø± Ú©Ø§Ù†Ø§Ù„**: Ø¹Ø¶ÙˆÛŒØª Ø®ÙˆØ¯Ú©Ø§Ø± Ø¨Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ø¨Ù‡ØªØ±ÛŒÙ† Ø³Ø´Ù†
- **Ø®Ø±ÙˆØ¬ Ø§Ø² Ú©Ø§Ù†Ø§Ù„**: Ø®Ø±ÙˆØ¬ Ø§ÛŒÙ…Ù† Ø§Ø² Ú©Ø§Ù†Ø§Ù„â€ŒÙ‡Ø§
- **Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ú©Ø§Ù†Ø§Ù„**: Ø¯Ø±ÛŒØ§ÙØª Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ú©Ø§Ù…Ù„ Ú©Ø§Ù†Ø§Ù„â€ŒÙ‡Ø§
- **ÙÙ‡Ø±Ø³Øª Ú©Ø§Ù†Ø§Ù„â€ŒÙ‡Ø§**: Ù…Ø´Ø§Ù‡Ø¯Ù‡ ØªÙ…Ø§Ù… Ú©Ø§Ù†Ø§Ù„â€ŒÙ‡Ø§ÛŒ Ø¹Ø¶Ùˆ
- **Ù¾Ø§Ú©Ø³Ø§Ø²ÛŒ**: Ø®Ø±ÙˆØ¬ Ø®ÙˆØ¯Ú©Ø§Ø± Ø§Ø² Ú©Ø§Ù†Ø§Ù„â€ŒÙ‡Ø§ÛŒ ØºÛŒØ±ÙØ¹Ø§Ù„

### ğŸ” Ø§Ù…Ù†ÛŒØª Ùˆ Ø§Ø­Ø±Ø§Ø² Ù‡ÙˆÛŒØª
- **Ú©Ù„ÛŒØ¯Ù‡Ø§ÛŒ API**: Ø³ÛŒØ³ØªÙ… Ú©Ù„ÛŒØ¯ API Ø¨Ø§ Ù…Ø¬ÙˆØ²Ù‡Ø§ÛŒ Ù‚Ø§Ø¨Ù„ ØªÙ†Ø¸ÛŒÙ…
- **Ú©Ù„ÛŒØ¯ Ù…Ø¯ÛŒØ±**: Ø¯Ø³ØªØ±Ø³ÛŒ Ú©Ø§Ù…Ù„ Ø¨Ø§ Ú©Ù„ÛŒØ¯ Ù…Ø¯ÛŒØ±
- **Ø³Ø·ÙˆØ­ Ø¯Ø³ØªØ±Ø³ÛŒ**: Ú©Ù†ØªØ±Ù„ Ø¯Ù‚ÛŒÙ‚ Ø¯Ø³ØªØ±Ø³ÛŒ Ø¨Ù‡ endpoint Ù‡Ø§
- **Ø«Ø¨Øª Ø¯Ø±Ø®ÙˆØ§Ø³Øªâ€ŒÙ‡Ø§**: Ù„Ø§Ú¯ Ú©Ø§Ù…Ù„ ØªÙ…Ø§Ù… ÙØ¹Ø§Ù„ÛŒØªâ€ŒÙ‡Ø§

### ğŸ“Š Ù…Ø§Ù†ÛŒØªÙˆØ±ÛŒÙ†Ú¯ Ùˆ Ø¢Ù…Ø§Ø±
- **Ù…ØªØ±ÛŒÚ©â€ŒÙ‡Ø§ÛŒ Ù„Ø­Ø¸Ù‡â€ŒØ§ÛŒ**: Ù…Ø§Ù†ÛŒØªÙˆØ±ÛŒÙ†Ú¯ Ø²Ù†Ø¯Ù‡ Ø³ÛŒØ³ØªÙ…
- **Ø¢Ù…Ø§Ø± Ø§Ø³ØªÙØ§Ø¯Ù‡**: Ø¢Ù…Ø§Ø± ØªÙØµÛŒÙ„ÛŒ Ú©Ù„ÛŒØ¯Ù‡Ø§ÛŒ API
- **Ø³Ù„Ø§Ù…Øª Ø³ÛŒØ³ØªÙ…**: Ø¨Ø±Ø±Ø³ÛŒ ÙˆØ¶Ø¹ÛŒØª Ø³Ø´Ù†â€ŒÙ‡Ø§ Ùˆ Ø³Ø±ÙˆÛŒØ³â€ŒÙ‡Ø§
- **Ù‡Ø´Ø¯Ø§Ø±Ù‡Ø§**: Ø§Ø¹Ù„Ø§Ù† Ø®ÙˆØ¯Ú©Ø§Ø± Ù…Ø´Ú©Ù„Ø§Øª

### ğŸ›¡ï¸ Ù…Ø­Ø¯ÙˆØ¯ÛŒØª Ù†Ø±Ø® Ùˆ Ø­ÙØ§Ø¸Øª
- **Ù…Ø­Ø¯ÙˆØ¯ÛŒØª Ú†Ù†Ø¯Ø³Ø·Ø­ÛŒ**: Ù…Ø­Ø¯ÙˆØ¯ÛŒØª Ø¯Ù‚ÛŒÙ‚Ù‡â€ŒØ§ÛŒ Ùˆ Ø³Ø§Ø¹ØªÛŒ
- **Ø­ÙØ§Ø¸Øª IP**: Ù…Ø­Ø¯ÙˆØ¯ÛŒØª Ø¨Ø± Ø§Ø³Ø§Ø³ IP
- **Ú©Ø§Ù‡Ø´ Ø³Ø±Ø¹Øª**: Ú©Ø§Ù‡Ø´ ØªØ¯Ø±ÛŒØ¬ÛŒ Ø³Ø±Ø¹Øª Ø¨Ù‡ Ø¬Ø§ÛŒ Ø¨Ù„Ø§Ú© Ú©Ø±Ø¯Ù†
- **Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Redis**: Ø°Ø®ÛŒØ±Ù‡â€ŒØ³Ø§Ø²ÛŒ ØªÙˆØ²ÛŒØ¹ Ø´Ø¯Ù‡

## ğŸ’» Ù†ÛŒØ§Ø²Ù…Ù†Ø¯ÛŒâ€ŒÙ‡Ø§ÛŒ Ø³ÛŒØ³ØªÙ…

### Ù†ÛŒØ§Ø²Ù…Ù†Ø¯ÛŒâ€ŒÙ‡Ø§ÛŒ Ø§Ø¬Ø¨Ø§Ø±ÛŒ
- **Node.js**: Ù†Ø³Ø®Ù‡ 18.0.0 ÛŒØ§ Ø¨Ø§Ù„Ø§ØªØ±
- **MySQL**: Ù†Ø³Ø®Ù‡ 8.0 ÛŒØ§ Ø¨Ø§Ù„Ø§ØªØ±
- **API ØªÙ„Ú¯Ø±Ø§Ù…**: API ID Ùˆ API Hash

### Ù†ÛŒØ§Ø²Ù…Ù†Ø¯ÛŒâ€ŒÙ‡Ø§ÛŒ Ø§Ø®ØªÛŒØ§Ø±ÛŒ
- **Redis**: Ø¨Ø±Ø§ÛŒ rate limiting ØªÙˆØ²ÛŒØ¹ Ø´Ø¯Ù‡
- **Docker**: Ø¨Ø±Ø§ÛŒ Ø§Ø³ØªÙ‚Ø±Ø§Ø± containerized
- **Nginx**: Ø¨Ø±Ø§ÛŒ proxy Ù…Ø¹Ú©ÙˆØ³

### Ø³Ø®Øªâ€ŒØ§ÙØ²Ø§Ø± Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯ÛŒ
- **CPU**: Ø­Ø¯Ø§Ù‚Ù„ 2 Ù‡Ø³ØªÙ‡
- **RAM**: Ø­Ø¯Ø§Ù‚Ù„ 2GB
- **Ø¯ÛŒØ³Ú©**: Ø­Ø¯Ø§Ù‚Ù„ 10GB ÙØ¶Ø§ÛŒ Ø®Ø§Ù„ÛŒ
- **Ø´Ø¨Ú©Ù‡**: Ø§ØªØµØ§Ù„ Ù¾Ø§ÛŒØ¯Ø§Ø± Ø§ÛŒÙ†ØªØ±Ù†Øª

## ğŸš€ Ø´Ø±ÙˆØ¹ Ø³Ø±ÛŒØ¹

### 1. Ø¯Ø±ÛŒØ§ÙØª API ØªÙ„Ú¯Ø±Ø§Ù…
```bash
# Ø¨Ù‡ my.telegram.org Ø¨Ø±ÙˆÛŒØ¯
# API ID Ùˆ API Hash Ø®ÙˆØ¯ Ø±Ø§ Ø¯Ø±ÛŒØ§ÙØª Ú©Ù†ÛŒØ¯
```

### 2. Ú©Ù„ÙˆÙ† Ú©Ø±Ø¯Ù† Ù¾Ø±ÙˆÚ˜Ù‡
```bash
git clone https://github.com/yourusername/telegram-channel-manager.git
cd telegram-channel-manager
```

### 3. Ù†ØµØ¨ ÙˆØ§Ø¨Ø³ØªÚ¯ÛŒâ€ŒÙ‡Ø§
```bash
npm install
```

### 4. Ù¾ÛŒÚ©Ø±Ø¨Ù†Ø¯ÛŒ Ù…Ø­ÛŒØ·
```bash
cp .env.example .env
# ÙØ§ÛŒÙ„ .env Ø±Ø§ ÙˆÛŒØ±Ø§ÛŒØ´ Ú©Ù†ÛŒØ¯
```

### 5. Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ Ø¯ÛŒØªØ§Ø¨ÛŒØ³
```bash
# MySQL Ø§ÛŒØ¬Ø§Ø¯ Ú©Ù†ÛŒØ¯
mysql -u root -p
CREATE DATABASE telegram_manager;
```

### 6. Ø§Ø¬Ø±Ø§ÛŒ Ø§Ù¾Ù„ÛŒÚ©ÛŒØ´Ù†
```bash
npm start
```

### 7. Ø¯Ø³ØªØ±Ø³ÛŒ Ø¨Ù‡ Ù¾Ù†Ù„
```bash
# Ù¾Ù†Ù„ Ù…Ø¯ÛŒØ±ÛŒØª: http://localhost:3000/admin
# Ù…Ø³ØªÙ†Ø¯Ø§Øª API: http://localhost:3000/api/docs
```

## ğŸ“¦ Ù†ØµØ¨


### Ù†ØµØ¨ Ø®ÙˆØ¯Ú©Ø§Ø±
```bash
# Ø§Ø³Ú©Ø±ÛŒÙ¾Øª Ù†ØµØ¨ Ø®ÙˆØ¯Ú©Ø§Ø±
curl -fsSL https://raw.githubusercontent.com/yourusername/telegram-channel-manager/main/install.sh | bash
```

## âš™ï¸ Ù¾ÛŒÚ©Ø±Ø¨Ù†Ø¯ÛŒ

### ÙØ§ÛŒÙ„ .env
```env
# == Ø§Ø·Ù„Ø§Ø¹Ø§Øª ØªÙ„Ú¯Ø±Ø§Ù… ==
API_ID=your_api_id
API_HASH=your_api_hash

# == Ø³Ø´Ù†â€ŒÙ‡Ø§ÛŒ ØªÙ„Ú¯Ø±Ø§Ù… ==
SESSION_1=your_session_string_1|true
SESSION_2=your_session_string_2|false
# ÙØ±Ù…Øª: session_string|is_premium

# == ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ø³Ø±ÙˆØ± ==
API_HOST=0.0.0.0
API_PORT=3000
NODE_ENV=production
CORS_ORIGIN=*

# == Ø¯ÛŒØªØ§Ø¨ÛŒØ³ MySQL ==
DB_HOST=localhost
DB_PORT=3306
DB_USER=telegram_user
DB_PASSWORD=your_secure_password
DB_NAME=telegram_manager

# == Redis (Ø§Ø®ØªÛŒØ§Ø±ÛŒ) ==
REDIS_ENABLED=true
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=

# == Ø§Ù…Ù†ÛŒØª ==
ENCRYPTION_KEY=your-32-character-encryption-key
MASTER_API_KEY=your_master_api_key

# == Ù„Ø§Ú¯ ==
LOG_LEVEL=info

# == Ù…Ø§Ù†ÛŒØªÙˆØ±ÛŒÙ†Ú¯ ==
INACTIVITY_DAYS=7
```

### Ø§ÛŒØ¬Ø§Ø¯ Ø³Ø´Ù† ØªÙ„Ú¯Ø±Ø§Ù…
```bash
# Ø§Ø¬Ø±Ø§ÛŒ Ø§Ø³Ú©Ø±ÛŒÙ¾Øª Ø§ÛŒØ¬Ø§Ø¯ Ø³Ø´Ù†
npm run create-session

# Ø¯Ø³ØªÙˆØ±Ø§Ù„Ø¹Ù…Ù„â€ŒÙ‡Ø§:
# 1. Ø´Ù…Ø§Ø±Ù‡ ØªÙ„ÙÙ† Ø®ÙˆØ¯ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯
# 2. Ú©Ø¯ ØªØ§ÛŒÛŒØ¯ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯
# 3. session string Ú©Ù¾ÛŒ Ú©Ù†ÛŒØ¯
# 4. Ø¨Ù‡ .env Ø§Ø¶Ø§ÙÙ‡ Ú©Ù†ÛŒØ¯
```

### ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ù¾ÛŒØ´Ø±ÙØªÙ‡

#### Rate Limiting
```javascript
// Ø¯Ø± src/middleware/rateLimiter.js
export const customLimiter = createRateLimiter({
    windowMs: 60 * 1000,     // Ù¾Ù†Ø¬Ø±Ù‡ Ø²Ù…Ø§Ù†ÛŒ (Ù…ÛŒÙ„ÛŒâ€ŒØ«Ø§Ù†ÛŒÙ‡)
    max: 30,                 // Ø­Ø¯Ø§Ú©Ø«Ø± Ø¯Ø±Ø®ÙˆØ§Ø³Øª
    prefix: 'rl:custom:'     // Ù¾ÛŒØ´ÙˆÙ†Ø¯ Redis
});
```

#### Ù…Ø§Ù†ÛŒØªÙˆØ±ÛŒÙ†Ú¯
```javascript
// Ø¯Ø± src/services/monitoring.js
const config = {
    updateInterval: 30000,    // Ø¨Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ù‡Ø± 30 Ø«Ø§Ù†ÛŒÙ‡
    historyInterval: 300000,  // Ø°Ø®ÛŒØ±Ù‡ ØªØ§Ø±ÛŒØ®Ú†Ù‡ Ù‡Ø± 5 Ø¯Ù‚ÛŒÙ‚Ù‡
    cleanupInterval: 3600000  // Ù¾Ø§Ú©Ø³Ø§Ø²ÛŒ Ù‡Ø± Ø³Ø§Ø¹Øª
};
```

## ğŸ“– Ù…Ø³ØªÙ†Ø¯Ø§Øª API

### Ø§Ø­Ø±Ø§Ø² Ù‡ÙˆÛŒØª
ØªÙ…Ø§Ù… endpoint Ù‡Ø§ÛŒ `/api/*` Ù†ÛŒØ§Ø² Ø¨Ù‡ Ú©Ù„ÛŒØ¯ API Ø¯Ø§Ø±Ù†Ø¯:

```bash
# Ø¯Ø± header
curl -H "x-api-key: your_api_key" http://localhost:3000/api/endpoint

# ÛŒØ§ Ø¯Ø± query parameter
curl "http://localhost:3000/api/endpoint?api_key=your_api_key"
```

### Endpoint Ù‡Ø§ÛŒ Ø§ØµÙ„ÛŒ

#### ğŸ”‘ Ù…Ø¯ÛŒØ±ÛŒØª Ú©Ù„ÛŒØ¯Ù‡Ø§ÛŒ API

##### Ø§ÛŒØ¬Ø§Ø¯ Ú©Ù„ÛŒØ¯ API Ø¬Ø¯ÛŒØ¯
```http
POST /api/keys/generate
Content-Type: application/json
x-api-key: master_key

{
  "name": "My API Key",
  "description": "Ø¨Ø±Ø§ÛŒ Ø§Ù¾Ù„ÛŒÚ©ÛŒØ´Ù† Ù…Ù†",
  "permissions": ["GET /api/channel/info", "POST /api/channel/join"],
  "rateLimitPerMinute": 30,
  "rateLimitPerHour": 1000,
  "expiresInDays": 30
}
```

**Ù¾Ø§Ø³Ø®:**
```json
{
  "success": true,
  "message": "API key created successfully",
  "apiKey": "abc123...",
  "details": {
    "id": 1,
    "name": "My API Key",
    "permissions": ["GET /api/channel/info", "POST /api/channel/join"]
  }
}
```

##### ÙÙ‡Ø±Ø³Øª Ú©Ù„ÛŒØ¯Ù‡Ø§
```http
GET /api/keys/list
x-api-key: master_key
```

##### Ø­Ø°Ù Ú©Ù„ÛŒØ¯
```http
DELETE /api/keys/123
x-api-key: master_key
```

#### ğŸ“± Ø¹Ù…Ù„ÛŒØ§Øª Ú©Ø§Ù†Ø§Ù„

##### Ø¹Ø¶ÙˆÛŒØª Ø¯Ø± Ú©Ø§Ù†Ø§Ù„
```http
POST /api/channel/join
Content-Type: application/json
x-api-key: your_api_key

{
  "channel": "@channelname"
  // ÛŒØ§ "channel": "https://t.me/channelname"
  // ÛŒØ§ "channel": "https://t.me/joinchat/ABCD..."
}
```

**Ù¾Ø§Ø³Ø®:**
```json
{
  "success": true,
  "sessionUsed": "session_1",
  "channelId": "-1001234567890",
  "channelTitle": "Ú©Ø§Ù†Ø§Ù„ ØªØ³Øª",
  "channelUsername": "testchannel",
  "sessionCapacity": "250/1000",
  "remainingSlots": 750,
  "rateLimit": {
    "remaining": 4,
    "resetTime": "2024-01-01T12:05:00.000Z"
  }
}
```

##### Ø®Ø±ÙˆØ¬ Ø§Ø² Ú©Ø§Ù†Ø§Ù„
```http
POST /api/channel/leave
Content-Type: application/json
x-api-key: your_api_key

{
  "channelId": "-1001234567890",
  "sessionName": "session_1"  // Ø§Ø®ØªÛŒØ§Ø±ÛŒ
}
```

##### Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ú©Ø§Ù†Ø§Ù„
```http
GET /api/channel/info?channel=@channelname
x-api-key: your_api_key
```

**Ù¾Ø§Ø³Ø®:**
```json
{
  "success": true,
  "data": {
    "id": "-1001234567890",
    "title": "Ú©Ø§Ù†Ø§Ù„ ØªØ³Øª",
    "username": "testchannel",
    "about": "ØªÙˆØ¶ÛŒØ­Ø§Øª Ú©Ø§Ù†Ø§Ù„",
    "participantsCount": 1250,
    "isPublic": true,
    "sessionName": "session_1"
  }
}
```

##### ÙÙ‡Ø±Ø³Øª Ú©Ø§Ù†Ø§Ù„â€ŒÙ‡Ø§
```http
GET /api/channel/list
x-api-key: your_api_key
```

**Ù¾Ø§Ø³Ø®:**
```json
{
  "success": true,
  "data": {
    "total": 125,
    "bySession": {
      "session_1": {
        "connected": true,
        "isPremium": true,
        "channelsCount": 75,
        "maxCapacity": 1000,
        "remainingCapacity": 925,
        "usage": "7.5%",
        "channels": [...]
      }
    },
    "allChannels": [...]
  }
}
```

##### Ù¾Ø§Ú©Ø³Ø§Ø²ÛŒ Ú©Ø§Ù†Ø§Ù„â€ŒÙ‡Ø§ÛŒ ØºÛŒØ±ÙØ¹Ø§Ù„
```http
POST /api/channel/cleanup
Content-Type: application/json
x-api-key: your_api_key

{
  "days": 7  // Ú©Ø§Ù†Ø§Ù„â€ŒÙ‡Ø§ÛŒ Ø¨Ø¯ÙˆÙ† ÙØ¹Ø§Ù„ÛŒØª Ø¨ÛŒØ´ Ø§Ø² 7 Ø±ÙˆØ²
}
```

#### ğŸ“Š Ù…Ø§Ù†ÛŒØªÙˆØ±ÛŒÙ†Ú¯ Ùˆ Ø¢Ù…Ø§Ø±

##### ÙˆØ¶Ø¹ÛŒØª Ø³ÛŒØ³ØªÙ…
```http
GET /api/monitoring/status
x-api-key: your_api_key
```

##### Ø¢Ù…Ø§Ø± Ù„Ø­Ø¸Ù‡â€ŒØ§ÛŒ
```http
GET /api/monitoring/realtime
x-api-key: your_api_key
```

##### ØªØ§Ø±ÛŒØ®Ú†Ù‡
```http
GET /api/monitoring/history/capacity?hours=24
x-api-key: your_api_key
```

##### Ù‡Ø´Ø¯Ø§Ø±Ù‡Ø§
```http
GET /api/monitoring/alerts
x-api-key: your_api_key
```

#### ğŸ”§ Ù…Ø¯ÛŒØ±ÛŒØª Ø³Ø´Ù†â€ŒÙ‡Ø§

##### ÙˆØ¶Ø¹ÛŒØª Ø³Ø´Ù†â€ŒÙ‡Ø§
```http
GET /api/session/status
x-api-key: your_api_key
```

##### Ø¸Ø±ÙÛŒØª Ø³ÛŒØ³ØªÙ…
```http
GET /api/session/capacity
x-api-key: your_api_key
```

### Ú©Ø¯Ù‡Ø§ÛŒ Ø®Ø·Ø§

| Ú©Ø¯ | ØªÙˆØ¶ÛŒØ­ |
|-----|--------|
| 400 | Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ù†Ø§Ù…Ø¹ØªØ¨Ø± |
| 401 | Ú©Ù„ÛŒØ¯ API Ù†Ø§Ù…Ø¹ØªØ¨Ø± |
| 403 | Ø¹Ø¯Ù… Ø¯Ø³ØªØ±Ø³ÛŒ |
| 429 | ØªØ¬Ø§ÙˆØ² Ø§Ø² Ø­Ø¯ Ù…Ø¬Ø§Ø² Ø¯Ø±Ø®ÙˆØ§Ø³Øª |
| 500 | Ø®Ø·Ø§ÛŒ Ø³Ø±ÙˆØ± |

### Ù†Ù…ÙˆÙ†Ù‡â€ŒÙ‡Ø§ÛŒ Ú©Ø¯

#### JavaScript/Node.js
```javascript
const axios = require('axios');

const api = axios.create({
  baseURL: 'http://localhost:3000/api',
  headers: {
    'x-api-key': 'your_api_key'
  }
});

// Ø¹Ø¶ÙˆÛŒØª Ø¯Ø± Ú©Ø§Ù†Ø§Ù„
async function joinChannel(channel) {
  try {
    const response = await api.post('/channel/join', { channel });
    console.log('Ø¹Ø¶ÙˆÛŒØª Ù…ÙˆÙÙ‚:', response.data);
  } catch (error) {
    console.error('Ø®Ø·Ø§:', error.response.data);
  }
}

// Ø¯Ø±ÛŒØ§ÙØª Ø¢Ù…Ø§Ø±
async function getStats() {
  const response = await api.get('/session/status');
  return response.data;
}
```

#### Python
```python
import requests

class TelegramManager:
    def __init__(self, api_key, base_url='http://localhost:3000/api'):
        self.session = requests.Session()
        self.session.headers.update({'x-api-key': api_key})
        self.base_url = base_url
    
    def join_channel(self, channel):
        response = self.session.post(
            f'{self.base_url}/channel/join',
            json={'channel': channel}
        )
        return response.json()
    
    def get_status(self):
        response = self.session.get(f'{self.base_url}/session/status')
        return response.json()

# Ø§Ø³ØªÙØ§Ø¯Ù‡
tm = TelegramManager('your_api_key')
result = tm.join_channel('@testchannel')
print(result)
```

#### PHP
```php
<?php

class TelegramManager {
    private $apiKey;
    private $baseUrl;
    
    public function __construct($apiKey, $baseUrl = 'http://localhost:3000/api') {
        $this->apiKey = $apiKey;
        $this->baseUrl = $baseUrl;
    }
    
    private function makeRequest($method, $endpoint, $data = null) {
        $ch = curl_init();
        curl_setopt($ch, CURLOPT_URL, $this->baseUrl . $endpoint);
        curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);
        curl_setopt($ch, CURLOPT_HTTPHEADER, [
            'x-api-key: ' . $this->apiKey,
            'Content-Type: application/json'
        ]);
        
        if ($method === 'POST' && $data) {
            curl_setopt($ch, CURLOPT_POST, true);
            curl_setopt($ch, CURLOPT_POSTFIELDS, json_encode($data));
        }
        
        $response = curl_exec($ch);
        curl_close($ch);
        
        return json_decode($response, true);
    }
    
    public function joinChannel($channel) {
        return $this->makeRequest('POST', '/channel/join', ['channel' => $channel]);
    }
    
    public function getStatus() {
        return $this->makeRequest('GET', '/session/status');
    }
}

// Ø§Ø³ØªÙØ§Ø¯Ù‡
$tm = new TelegramManager('your_api_key');
$result = $tm->joinChannel('@testchannel');
print_r($result);
?>
```

## ğŸ¨ Ù¾Ù†Ù„ Ù…Ø¯ÛŒØ±ÛŒØª

Ù¾Ù†Ù„ Ù…Ø¯ÛŒØ±ÛŒØª ØªØ­Øª ÙˆØ¨ Ø¯Ø± Ø¢Ø¯Ø±Ø³ `http://localhost:3000/admin` Ø¯Ø± Ø¯Ø³ØªØ±Ø³ Ø§Ø³Øª.

### ÙˆÛŒÚ˜Ú¯ÛŒâ€ŒÙ‡Ø§ÛŒ Ù¾Ù†Ù„

#### ğŸ“Š Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯ Ø§ØµÙ„ÛŒ
- **Ø¢Ù…Ø§Ø± Ú©Ù„ÛŒ**: ØªØ¹Ø¯Ø§Ø¯ Ø³Ø´Ù†â€ŒÙ‡Ø§ØŒ Ú©Ø§Ù†Ø§Ù„â€ŒÙ‡Ø§ØŒ Ø¯Ø±Ø®ÙˆØ§Ø³Øªâ€ŒÙ‡Ø§
- **Ù†Ù…ÙˆØ¯Ø§Ø± Ø¸Ø±ÙÛŒØª**: Ù†Ù…Ø§ÛŒØ´ Ø¸Ø±ÙÛŒØª Ù‡Ø± Ø³Ø´Ù†
- **ÙØ¹Ø§Ù„ÛŒØªâ€ŒÙ‡Ø§ÛŒ Ø§Ø®ÛŒØ±**: Ø¢Ø®Ø±ÛŒÙ† Ø¹Ø¶ÙˆÛŒØªâ€ŒÙ‡Ø§ Ùˆ Ø®Ø±ÙˆØ¬â€ŒÙ‡Ø§
- **Ù‡Ø´Ø¯Ø§Ø±Ù‡Ø§ÛŒ Ø³ÛŒØ³ØªÙ…**: Ø§Ø¹Ù„Ø§Ù† Ù…Ø´Ú©Ù„Ø§Øª

#### ğŸ”‘ Ù…Ø¯ÛŒØ±ÛŒØª Ú©Ù„ÛŒØ¯Ù‡Ø§ÛŒ API
- **Ø§ÛŒØ¬Ø§Ø¯ Ú©Ù„ÛŒØ¯ Ø¬Ø¯ÛŒØ¯**: Ø¨Ø§ ØªÙ†Ø¸ÛŒÙ… Ù…Ø¬ÙˆØ²Ù‡Ø§ Ùˆ Ù…Ø­Ø¯ÙˆØ¯ÛŒØªâ€ŒÙ‡Ø§
- **Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ú©Ù„ÛŒØ¯Ù‡Ø§**: ÙÙ‡Ø±Ø³Øª ØªÙ…Ø§Ù… Ú©Ù„ÛŒØ¯Ù‡Ø§ÛŒ ÙØ¹Ø§Ù„
- **ÙˆÛŒØ±Ø§ÛŒØ´ Ù…Ø¬ÙˆØ²Ù‡Ø§**: ØªØºÛŒÛŒØ± Ø¯Ø³ØªØ±Ø³ÛŒâ€ŒÙ‡Ø§ÛŒ Ú©Ù„ÛŒØ¯Ù‡Ø§
- **Ø¢Ù…Ø§Ø± Ø§Ø³ØªÙØ§Ø¯Ù‡**: Ù…ÛŒØ²Ø§Ù† Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù‡Ø± Ú©Ù„ÛŒØ¯

#### ğŸ“± Ù…Ø¯ÛŒØ±ÛŒØª Ø³Ø´Ù†â€ŒÙ‡Ø§
- **ÙˆØ¶Ø¹ÛŒØª Ø³Ø´Ù†â€ŒÙ‡Ø§**: Ø¢Ù†Ù„Ø§ÛŒÙ†/Ø¢ÙÙ„Ø§ÛŒÙ†ØŒ Ø¸Ø±ÙÛŒØª
- **Ù…Ø¯ÛŒØ±ÛŒØª Ú©Ø§Ù†Ø§Ù„â€ŒÙ‡Ø§**: ÙÙ‡Ø±Ø³Øª Ú©Ø§Ù†Ø§Ù„â€ŒÙ‡Ø§ÛŒ Ù‡Ø± Ø³Ø´Ù†
- **Ø§ØªØµØ§Ù„ Ù…Ø¬Ø¯Ø¯**: Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ Ù…Ø¬Ø¯Ø¯ Ø³Ø´Ù†â€ŒÙ‡Ø§ÛŒ Ù‚Ø·Ø¹ Ø´Ø¯Ù‡

#### ğŸ“ˆ Ù…Ø§Ù†ÛŒØªÙˆØ±ÛŒÙ†Ú¯
- **Ù†Ù…ÙˆØ¯Ø§Ø±Ù‡Ø§ÛŒ Ø²Ù†Ø¯Ù‡**: Ø¸Ø±ÙÛŒØªØŒ Ø¯Ø±Ø®ÙˆØ§Ø³Øªâ€ŒÙ‡Ø§ØŒ Ø®Ø·Ø§Ù‡Ø§
- **Ú¯Ø²Ø§Ø±Ø´ Ø³Ù„Ø§Ù…Øª**: ÙˆØ¶Ø¹ÛŒØª Ú©Ù„ÛŒ Ø³ÛŒØ³ØªÙ…
- **Ù„Ø§Ú¯â€ŒÙ‡Ø§**: Ù…Ø´Ø§Ù‡Ø¯Ù‡ ÙØ¹Ø§Ù„ÛŒØªâ€ŒÙ‡Ø§ÛŒ Ø³ÛŒØ³ØªÙ…

### Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ Ù¾Ù†Ù„

#### 1. ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ static
```bash
# Ø§ÛŒØ¬Ø§Ø¯ Ù¾ÙˆØ´Ù‡ public
mkdir public

# Ú©Ù¾ÛŒ ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Ù¾Ù†Ù„
cp -r admin-panel/* public/
```

#### 2. ØªÙ†Ø¸ÛŒÙ…Ø§Øª Nginx (Ø§Ø®ØªÛŒØ§Ø±ÛŒ)
```nginx
server {
    listen 80;
    server_name your-domain.com;
    
    location / {
        proxy_pass http://localhost:3000;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
    }
    
    location /admin {
        auth_basic "Admin Panel";
        auth_basic_user_file /etc/nginx/.htpasswd;
        proxy_pass http://localhost:3000/admin;
    }
}
```

## ğŸ’¾ Ø³Ø§Ø®ØªØ§Ø± Ø¯ÛŒØªØ§Ø¨ÛŒØ³

### Ø¬Ø¯Ø§ÙˆÙ„ Ø§ØµÙ„ÛŒ

#### api_keys - Ú©Ù„ÛŒØ¯Ù‡Ø§ÛŒ API
```sql
CREATE TABLE api_keys (
    id INT PRIMARY KEY AUTO_INCREMENT,
    key_hash VARCHAR(64) UNIQUE NOT NULL,
    name VARCHAR(100) NOT NULL,
    description TEXT,
    is_active BOOLEAN DEFAULT TRUE,
    is_master BOOLEAN DEFAULT FALSE,
    rate_limit_per_minute INT DEFAULT 60,
    rate_limit_per_hour INT DEFAULT 1000,
    total_requests INT DEFAULT 0,
    last_used_at TIMESTAMP NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    created_by VARCHAR(100),
    created_ip VARCHAR(45),
    expires_at TIMESTAMP NULL
);
```

#### telegram_sessions - Ø³Ø´Ù†â€ŒÙ‡Ø§ÛŒ ØªÙ„Ú¯Ø±Ø§Ù…
```sql
CREATE TABLE telegram_sessions (
    id INT PRIMARY KEY AUTO_INCREMENT,
    name VARCHAR(50) UNIQUE NOT NULL,
    session_string TEXT NOT NULL,
    phone_number VARCHAR(20),
    is_premium BOOLEAN DEFAULT FALSE,
    is_active BOOLEAN DEFAULT TRUE,
    is_connected BOOLEAN DEFAULT FALSE,
    current_channels_count INT DEFAULT 0,
    max_channels INT DEFAULT 500,
    health_status ENUM('healthy', 'warning', 'critical', 'dead') DEFAULT 'healthy',
    last_connected_at TIMESTAMP NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
```

#### channels - Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ú©Ø§Ù†Ø§Ù„â€ŒÙ‡Ø§
```sql
CREATE TABLE channels (
    id INT PRIMARY KEY AUTO_INCREMENT,
    channel_id VARCHAR(20) UNIQUE NOT NULL,
    username VARCHAR(100),
    title VARCHAR(200) NOT NULL,
    description TEXT,
    participants_count INT DEFAULT 0,
    is_public BOOLEAN DEFAULT TRUE,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
);
```

#### session_channels - Ø±Ø§Ø¨Ø·Ù‡ Ø³Ø´Ù† Ùˆ Ú©Ø§Ù†Ø§Ù„
```sql
CREATE TABLE session_channels (
    id INT PRIMARY KEY AUTO_INCREMENT,
    session_id INT NOT NULL,
    channel_id INT NOT NULL,
    is_member BOOLEAN DEFAULT TRUE,
    joined_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    left_at TIMESTAMP NULL,
    joined_by_api_key INT,
    FOREIGN KEY (session_id) REFERENCES telegram_sessions(id),
    FOREIGN KEY (channel_id) REFERENCES channels(id),
    FOREIGN KEY (joined_by_api_key) REFERENCES api_keys(id),
    UNIQUE KEY unique_session_channel (session_id, channel_id)
);
```

#### request_logs - Ù„Ø§Ú¯ Ø¯Ø±Ø®ÙˆØ§Ø³Øªâ€ŒÙ‡Ø§
```sql
CREATE TABLE request_logs (
    id INT PRIMARY KEY AUTO_INCREMENT,
    api_key_id INT,
    method VARCHAR(10) NOT NULL,
    endpoint VARCHAR(200) NOT NULL,
    ip_address VARCHAR(45),
    user_agent TEXT,
    request_body JSON,
    query_params JSON,
    status_code INT NOT NULL,
    response_time_ms INT,
    error_message TEXT,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (api_key_id) REFERENCES api_keys(id)
);
```

### Ø§ÛŒÙ†Ø¯Ú©Ø³â€ŒÙ‡Ø§ Ùˆ Ø¨Ù‡ÛŒÙ†Ù‡â€ŒØ³Ø§Ø²ÛŒ

```sql
-- Ø§ÛŒÙ†Ø¯Ú©Ø³â€ŒÙ‡Ø§ÛŒ Ø¹Ù…Ù„Ú©Ø±Ø¯ÛŒ
CREATE INDEX idx_api_keys_hash ON api_keys(key_hash);
CREATE INDEX idx_sessions_active ON telegram_sessions(is_active, is_connected);
CREATE INDEX idx_channels_id ON channels(channel_id);
CREATE INDEX idx_session_channels_session ON session_channels(session_id, is_member);
CREATE INDEX idx_request_logs_api_key_time ON request_logs(api_key_id, created_at);
CREATE INDEX idx_request_logs_endpoint_time ON request_logs(endpoint, created_at);

-- Ø§ÛŒÙ†Ø¯Ú©Ø³ composite Ø¨Ø±Ø§ÛŒ Ø¬Ø³ØªØ¬ÙˆÙ‡Ø§ÛŒ Ù¾ÛŒÚ†ÛŒØ¯Ù‡
CREATE INDEX idx_session_channels_lookup ON session_channels(session_id, channel_id, is_member);
CREATE INDEX idx_logs_stats ON request_logs(created_at, status_code, response_time_ms);
```

### Stored Procedures

#### Ù¾Ø§Ú©Ø³Ø§Ø²ÛŒ Ù„Ø§Ú¯â€ŒÙ‡Ø§ÛŒ Ù‚Ø¯ÛŒÙ…ÛŒ
```sql
DELIMITER //
CREATE PROCEDURE sp_cleanup_old_logs(IN days_to_keep INT)
BEGIN
    DECLARE EXIT HANDLER FOR SQLEXCEPTION
    BEGIN
        ROLLBACK;
        RESIGNAL;
    END;

    START TRANSACTION;
    
    DELETE FROM request_logs 
    WHERE created_at < DATE_SUB(NOW(), INTERVAL days_to_keep DAY);
    
    DELETE FROM rate_limits 
    WHERE window_start < DATE_SUB(NOW(), INTERVAL 1 DAY);
    
    COMMIT;
END //
DELIMITER ;
```

#### Ø¢Ù…Ø§Ø± Ø§Ø³ØªÙØ§Ø¯Ù‡ API
```sql
DELIMITER //
CREATE PROCEDURE sp_api_usage_stats(IN api_key_id INT, IN days INT)
BEGIN
    SELECT 
        DATE(created_at) as date,
        COUNT(*) as requests,
        AVG(response_time_ms) as avg_response_time,
        SUM(CASE WHEN status_code >= 400 THEN 1 ELSE 0 END) as errors,
        COUNT(DISTINCT endpoint) as unique_endpoints
    FROM request_logs 
    WHERE api_key_id = api_key_id 
        AND created_at > DATE_SUB(NOW(), INTERVAL days DAY)
    GROUP BY DATE(created_at)
    ORDER BY date DESC;
END //
DELIMITER ;
```

## âš¡ Ù…Ø­Ø¯ÙˆØ¯ÛŒØª Ù†Ø±Ø® Ø¯Ø±Ø®ÙˆØ§Ø³Øª

Ø³ÛŒØ³ØªÙ… Ù…Ø­Ø¯ÙˆØ¯ÛŒØª Ù†Ø±Ø® Ú†Ù†Ø¯Ù„Ø§ÛŒÙ‡ Ø¨Ø±Ø§ÛŒ Ø­ÙØ§Ø¸Øª Ø¯Ø± Ø¨Ø±Ø§Ø¨Ø± Ø³ÙˆØ¡ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ùˆ Ø±Ø¹Ø§ÛŒØª Ù…Ø­Ø¯ÙˆØ¯ÛŒØªâ€ŒÙ‡Ø§ÛŒ ØªÙ„Ú¯Ø±Ø§Ù….

### Ø§Ù†ÙˆØ§Ø¹ Ù…Ø­Ø¯ÙˆØ¯ÛŒØªâ€ŒÙ‡Ø§

#### 1. Ù…Ø­Ø¯ÙˆØ¯ÛŒØª Ø³Ø±Ø§Ø³Ø±ÛŒ
```javascript
// 100 Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ø¯Ø± Ø¯Ù‚ÛŒÙ‚Ù‡ Ø¨Ø±Ø§ÛŒ ØªÙ…Ø§Ù… Ú©Ø§Ø±Ø¨Ø±Ø§Ù†
globalLimiter: {
    windowMs: 60 * 1000,
    max: 100
}
```

#### 2. Ù…Ø­Ø¯ÙˆØ¯ÛŒØª Ø¨Ø± Ø§Ø³Ø§Ø³ IP
```javascript
// 200 Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ø¯Ø± 15 Ø¯Ù‚ÛŒÙ‚Ù‡ Ø¨Ø±Ø§ÛŒ Ù‡Ø± IP
strictIpLimiter: {
    windowMs: 15 * 60 * 1000,
    max: 200
}
```

#### 3. Ù…Ø­Ø¯ÙˆØ¯ÛŒØªâ€ŒÙ‡Ø§ÛŒ Ø§Ø®ØªØµØ§ØµÛŒ endpoint

| Endpoint | Ø­Ø¯ Ù…Ø¬Ø§Ø²/Ø¯Ù‚ÛŒÙ‚Ù‡ | Ø¯Ù„ÛŒÙ„ |
|----------|---------------|------|
| `/api/channel/join` | 5 | Ù…Ø­Ø¯ÙˆØ¯ÛŒØª Ø³Ø®Øª ØªÙ„Ú¯Ø±Ø§Ù… |
| `/api/channel/leave` | 10 | Ø¹Ù…Ù„ÛŒØ§Øª Ù…ØªÙˆØ³Ø· |
| `/api/channel/info` | 30 | Ø¹Ù…Ù„ÛŒØ§Øª Ø³Ø¨Ú© |
| `/api/channel/list` | 10 | Ø¹Ù…Ù„ÛŒØ§Øª Ø³Ù†Ú¯ÛŒÙ† |
| `/api/channel/cleanup` | 2/Ø³Ø§Ø¹Øª | Ø¹Ù…Ù„ÛŒØ§Øª Ø¨Ø³ÛŒØ§Ø± Ø³Ù†Ú¯ÛŒÙ† |

#### 4. Ú©Ø§Ù‡Ø´ ØªØ¯Ø±ÛŒØ¬ÛŒ Ø³Ø±Ø¹Øª
```javascript
// Ø¨Ù‡ Ø¬Ø§ÛŒ Ø¨Ù„Ø§Ú© Ú©Ø±Ø¯Ù†ØŒ Ø³Ø±Ø¹Øª Ú©Ù… Ù…ÛŒâ€ŒØ´ÙˆØ¯
joinChannelSpeedLimiter: {
    delayAfter: 2,        // Ø¨Ø¹Ø¯ Ø§Ø² 2 Ø¯Ø±Ø®ÙˆØ§Ø³Øª
    delayMs: 2000,        // 2 Ø«Ø§Ù†ÛŒÙ‡ ØªØ§Ø®ÛŒØ±
    maxDelayMs: 30000     // Ø­Ø¯Ø§Ú©Ø«Ø± 30 Ø«Ø§Ù†ÛŒÙ‡
}
```

### Ù¾ÛŒÚ©Ø±Ø¨Ù†Ø¯ÛŒ Redis

#### Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ Redis
```bash
# Ù†ØµØ¨ Redis
sudo apt install redis-server

# Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ
sudo systemctl start redis
sudo systemctl enable redis

# ØªØ³Øª
redis-cli ping
# Ø¨Ø§ÛŒØ¯ PONG Ø¨Ø±Ú¯Ø±Ø¯Ø¯
```

#### ØªÙ†Ø¸ÛŒÙ…Ø§Øª Redis Ø¯Ø± .env
```env
REDIS_ENABLED=true
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=your_redis_password
```

### Ù…Ø¯ÛŒØ±ÛŒØª Ø®Ø·Ø§Ù‡Ø§ÛŒ Rate Limit

#### Ù¾Ø§Ø³Ø® Ø§Ø³ØªØ§Ù†Ø¯Ø§Ø±Ø¯
```json
{
  "success": false,
  "error": "Too many requests, please try again later",
  "retryAfter": 60,
  "limit": 5,
  "remaining": 0,
  "resetTime": "2024-01-01T12:05:00.000Z",
  "suggestion": "Maximum 5 channels per minute to avoid Telegram restrictions"
}
```

#### Ù†Ø­ÙˆÙ‡ Ù…Ø¯ÛŒØ±ÛŒØª Ø¯Ø± Ú©Ø¯
```javascript
// Ú©Ù„Ø§ÛŒÙ†Øª JavaScript
async function handleRateLimit(error) {
  if (error.response?.status === 429) {
    const retryAfter = error.response.data.retryAfter;
    console.log(`Rate limited. Retry after ${retryAfter} seconds`);
    
    // ØµØ¨Ø± Ùˆ ØªÙ„Ø§Ø´ Ù…Ø¬Ø¯Ø¯
    await new Promise(resolve => setTimeout(resolve, retryAfter * 1000));
    return await retryRequest();
  }
  throw error;
}
```

## ğŸ“Š Ù…Ø§Ù†ÛŒØªÙˆØ±ÛŒÙ†Ú¯

Ø³ÛŒØ³ØªÙ… Ù…Ø§Ù†ÛŒØªÙˆØ±ÛŒÙ†Ú¯ Ø¬Ø§Ù…Ø¹ Ø¨Ø±Ø§ÛŒ Ù†Ø¸Ø§Ø±Øª Ø¨Ø± Ø³Ù„Ø§Ù…Øª Ùˆ Ø¹Ù…Ù„Ú©Ø±Ø¯ Ø³ÛŒØ³ØªÙ….

### Ù…ØªØ±ÛŒÚ©â€ŒÙ‡Ø§ÛŒ Ú©Ù„ÛŒØ¯ÛŒ

#### 1. Ø³Ù„Ø§Ù…Øª Ø³Ø´Ù†â€ŒÙ‡Ø§
- **ÙˆØ¶Ø¹ÛŒØª Ø§ØªØµØ§Ù„**: Ø¢Ù†Ù„Ø§ÛŒÙ†/Ø¢ÙÙ„Ø§ÛŒÙ†
- **Ø¸Ø±ÙÛŒØª**: ØªØ¹Ø¯Ø§Ø¯ Ú©Ø§Ù†Ø§Ù„â€ŒÙ‡Ø§ÛŒ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø´Ø¯Ù‡/Ú©Ù„
- **Ù†ÙˆØ¹ Ø§Ú©Ø§Ù†Øª**: Ù…Ø¹Ù…ÙˆÙ„ÛŒ/Ù¾Ø±ÛŒÙ…ÛŒÙˆÙ…
- **Ø¢Ø®Ø±ÛŒÙ† Ø§ØªØµØ§Ù„**: Ø²Ù…Ø§Ù† Ø¢Ø®Ø±ÛŒÙ† ÙØ¹Ø§Ù„ÛŒØª

#### 2. Ø¹Ù…Ù„Ú©Ø±Ø¯ Ø³ÛŒØ³ØªÙ…
- **Ø²Ù…Ø§Ù† Ù¾Ø§Ø³Ø®**: Ù…ÛŒØ§Ù†Ú¯ÛŒÙ† Ø²Ù…Ø§Ù† Ù¾Ø§Ø³Ø® API
- **Ù†Ø±Ø® Ø®Ø·Ø§**: Ø¯Ø±ØµØ¯ Ø¯Ø±Ø®ÙˆØ§Ø³Øªâ€ŒÙ‡Ø§ÛŒ Ù†Ø§Ù…ÙˆÙÙ‚
- **ØªØ¹Ø¯Ø§Ø¯ Ø¯Ø±Ø®ÙˆØ§Ø³Øª**: Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ø¯Ø± Ø¯Ù‚ÛŒÙ‚Ù‡/Ø³Ø§Ø¹Øª
- **Uptime**: Ù…Ø¯Øª Ø²Ù…Ø§Ù† ÙØ¹Ø§Ù„ÛŒØª Ø³ÛŒØ³ØªÙ…

#### 3. Ø¢Ù…Ø§Ø± Ú©Ø§Ù†Ø§Ù„â€ŒÙ‡Ø§
- **ØªØ¹Ø¯Ø§Ø¯ Ú©Ù„**: Ù…Ø¬Ù…ÙˆØ¹ Ú©Ø§Ù†Ø§Ù„â€ŒÙ‡Ø§ÛŒ Ø¹Ø¶Ùˆ Ø´Ø¯Ù‡
- **ÙØ¹Ø§Ù„ÛŒØªâ€ŒÙ‡Ø§ÛŒ Ø§Ø®ÛŒØ±**: Ø¹Ø¶ÙˆÛŒØªâ€ŒÙ‡Ø§ Ùˆ Ø®Ø±ÙˆØ¬â€ŒÙ‡Ø§ÛŒ Ø¬Ø¯ÛŒØ¯
- **ØªÙˆØ²ÛŒØ¹ Ø¨ÛŒÙ† Ø³Ø´Ù†â€ŒÙ‡Ø§**: Ù†Ø­ÙˆÙ‡ Ù¾Ø®Ø´ Ú©Ø§Ù†Ø§Ù„â€ŒÙ‡Ø§

### Dashboard

#### Ù…Ø´Ø§Ù‡Ø¯Ù‡ ÙˆØ¶Ø¹ÛŒØª Ù„Ø­Ø¸Ù‡â€ŒØ§ÛŒ
```http
GET /api/monitoring/realtime
```

**Ù¾Ø§Ø³Ø®:**
```json
{
  "success": true,
  "data": {
    "timestamp": "2024-01-01T12:00:00.000Z",
    "sessions": {
      "connected": 3,
      "total": 4,
      "health": "good"
    },
    "capacity": {
      "percentage": 45,
      "used": 450,
      "total": 1000,
      "remaining": 550
    },
    "performance": {
      "uptime": 86400,
      "requestsPerMinute": 25,
      "errorsPerMinute": 0,
      "avgResponseTime": 150
    },
    "healthScore": 95
  }
}
```

#### ØªØ§Ø±ÛŒØ®Ú†Ù‡ Ùˆ Ù†Ù…ÙˆØ¯Ø§Ø±Ù‡Ø§
```http
GET /api/monitoring/history/capacity?hours=24
```

### Ù‡Ø´Ø¯Ø§Ø±Ù‡Ø§

#### Ø§Ù†ÙˆØ§Ø¹ Ù‡Ø´Ø¯Ø§Ø±Ù‡Ø§
- **Ø®Ø·Ø± (Critical)**: Ø³Ø´Ù†â€ŒÙ‡Ø§ÛŒ Ù‚Ø·Ø¹ Ø´Ø¯Ù‡ØŒ Ø¸Ø±ÙÛŒØª Ø¨Ø§Ù„Ø§ÛŒ 90%
- **Ù‡Ø´Ø¯Ø§Ø± (Warning)**: Ø¸Ø±ÙÛŒØª Ø¨Ø§Ù„Ø§ÛŒ 80%, Ù†Ø±Ø® Ø®Ø·Ø§ÛŒ Ø¨Ø§Ù„Ø§
- **Ø§Ø·Ù„Ø§Ø¹ (Info)**: ÙØ¹Ø§Ù„ÛŒØªâ€ŒÙ‡Ø§ÛŒ Ø¹Ø§Ø¯ÛŒ

#### Ù…Ø«Ø§Ù„ Ù‡Ø´Ø¯Ø§Ø±
```json
{
  "id": 12345,
  "type": "critical",
  "title": "High Capacity Usage",
  "message": "System capacity at 92%. Consider cleanup or adding sessions.",
  "time": "2024-01-01T12:00:00.000Z",
  "action": "Run cleanup or add more sessions"
}
```

### Ù„Ø§Ú¯â€ŒÚ¯ÛŒØ±ÛŒ

#### Ø³Ø·ÙˆØ­ Ù„Ø§Ú¯
- **Error**: Ø®Ø·Ø§Ù‡Ø§ÛŒ Ù…Ù‡Ù…
- **Warn**: Ù‡Ø´Ø¯Ø§Ø±Ù‡Ø§
- **Info**: Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø¹Ù…ÙˆÙ…ÛŒ
- **Debug**: Ø§Ø·Ù„Ø§Ø¹Ø§Øª ØªÙØµÛŒÙ„ÛŒ

#### ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Ù„Ø§Ú¯
```
logs/
â”œâ”€â”€ error.log          # ÙÙ‚Ø· Ø®Ø·Ø§Ù‡Ø§
â”œâ”€â”€ combined.log       # Ù‡Ù…Ù‡ Ù„Ø§Ú¯â€ŒÙ‡Ø§
â””â”€â”€ access.log         # Ø¯Ø±Ø®ÙˆØ§Ø³Øªâ€ŒÙ‡Ø§ÛŒ HTTP
```

#### ØªÙ†Ø¸ÛŒÙ… Ø³Ø·Ø­ Ù„Ø§Ú¯
```env
LOG_LEVEL=info  # error, warn, info, debug
```

## ğŸ”’ Ø§Ù…Ù†ÛŒØª

### Ø§Ø­Ø±Ø§Ø² Ù‡ÙˆÛŒØª

#### Ú©Ù„ÛŒØ¯Ù‡Ø§ÛŒ API
- **Ù‡Ø´ SHA-256**: Ú©Ù„ÛŒØ¯Ù‡Ø§ Ø¨Ù‡ ØµÙˆØ±Øª hash Ø°Ø®ÛŒØ±Ù‡ Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯
- **Ø§Ù†Ù‚Ø¶Ø§**: Ø§Ù…Ú©Ø§Ù† ØªÙ†Ø¸ÛŒÙ… ØªØ§Ø±ÛŒØ® Ø§Ù†Ù‚Ø¶Ø§
- **Ù…Ø¬ÙˆØ²Ù‡Ø§ÛŒ Ø¯Ù‚ÛŒÙ‚**: Ú©Ù†ØªØ±Ù„ Ø¯Ø³ØªØ±Ø³ÛŒ Ø¨Ù‡ endpoint Ù‡Ø§ÛŒ Ø®Ø§Øµ

#### Ú©Ù„ÛŒØ¯ Ù…Ø¯ÛŒØ± (Master Key)
```env
MASTER_API_KEY=your_very_secure_master_key_here
```

### Ø±Ù…Ø²Ù†Ú¯Ø§Ø±ÛŒ

#### Ø±Ù…Ø²Ù†Ú¯Ø§Ø±ÛŒ Ø³Ø´Ù†â€ŒÙ‡Ø§
Session stringÙ‡Ø§ Ø¨Ø§ AES-256-CBC Ø±Ù…Ø²Ù†Ú¯Ø§Ø±ÛŒ Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯:

```env
ENCRYPTION_KEY=your-32-character-encryption-key!!
```

#### Ù…Ø«Ø§Ù„ Ú©Ø¯ Ø±Ù…Ø²Ù†Ú¯Ø§Ø±ÛŒ
```javascript
// Ø±Ù…Ø²Ù†Ú¯Ø§Ø±ÛŒ
const encrypted = database.encryptData(sessionString);

// Ø±Ù…Ø²Ú¯Ø´Ø§ÛŒÛŒ
const decrypted = database.decryptData(encrypted);
```

### Ø­ÙØ§Ø¸Øª Ø¯Ø± Ø¨Ø±Ø§Ø¨Ø± Ø­Ù…Ù„Ø§Øª

#### SQL Injection
- Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² prepared statements
- validation ÙˆØ±ÙˆØ¯ÛŒâ€ŒÙ‡Ø§
- escape Ú©Ø±Ø¯Ù† Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§

#### XSS Protection
```javascript
// ØªÙ†Ø¸ÛŒÙ… header Ù‡Ø§ÛŒ Ø§Ù…Ù†ÛŒØªÛŒ
app.use((req, res, next) => {
  res.setHeader('X-Content-Type-Options', 'nosniff');
  res.setHeader('X-Frame-Options', 'DENY');
  res.setHeader('X-XSS-Protection', '1; mode=block');
  next();
});
```

#### DDoS Protection
- Rate limiting Ú†Ù†Ø¯Ù„Ø§ÛŒÙ‡
- Ù…Ø­Ø¯ÙˆØ¯ÛŒØª Ø¨Ø± Ø§Ø³Ø§Ø³ IP
- Ú©Ø§Ù‡Ø´ ØªØ¯Ø±ÛŒØ¬ÛŒ Ø³Ø±Ø¹Øª

### Ø¨Ù‡ØªØ±ÛŒÙ† Ø±ÙˆØ´â€ŒÙ‡Ø§ÛŒ Ø§Ù…Ù†ÛŒØªÛŒ

#### 1. ØªÙ†Ø¸ÛŒÙ…Ø§Øª production
```env
NODE_ENV=production
```

#### 2. Ù¾Ø±ÙˆÚ©Ø³ÛŒ Ù…Ø¹Ú©ÙˆØ³
```nginx
# Ù…Ø­Ø¯ÙˆØ¯ÛŒØª Ø§Ù†Ø¯Ø§Ø²Ù‡ Ø¯Ø±Ø®ÙˆØ§Ø³Øª
client_max_body_size 10M;

# Ù…Ø®ÙÛŒ Ú©Ø±Ø¯Ù† ÙˆØ±Ú˜Ù† Ø³Ø±ÙˆØ±
server_tokens off;

# SSL/TLS
ssl_protocols TLSv1.2 TLSv1.3;
```

#### 3. ÙØ§ÛŒØ±ÙˆØ§Ù„
```bash
# ÙÙ‚Ø· Ù¾ÙˆØ±Øªâ€ŒÙ‡Ø§ÛŒ Ø¶Ø±ÙˆØ±ÛŒ
sudo ufw allow 22    # SSH
sudo ufw allow 80    # HTTP
sudo ufw allow 443   # HTTPS
sudo ufw enable
```

#### 4. Ù…Ø§Ù†ÛŒØªÙˆØ±ÛŒÙ†Ú¯ Ø§Ù…Ù†ÛŒØªÛŒ
- Ù„Ø§Ú¯ ØªÙ…Ø§Ù… Ø¯Ø±Ø®ÙˆØ§Ø³Øªâ€ŒÙ‡Ø§
- Ù‡Ø´Ø¯Ø§Ø± Ø¨Ø±Ø§ÛŒ ÙØ¹Ø§Ù„ÛŒØªâ€ŒÙ‡Ø§ÛŒ Ù…Ø´Ú©ÙˆÚ©
- Ø¨Ú©Ø§Ù¾ Ù…Ù†Ø¸Ù… Ø¯ÛŒØªØ§Ø¨ÛŒØ³

## ğŸ› ï¸ Ø¹ÛŒØ¨â€ŒÛŒØ§Ø¨ÛŒ

### Ù…Ø´Ú©Ù„Ø§Øª Ø±Ø§ÛŒØ¬

#### 1. Ø®Ø·Ø§ÛŒ Ø§ØªØµØ§Ù„ Ø¯ÛŒØªØ§Ø¨ÛŒØ³
```
âŒ MySQL connection failed: ECONNREFUSED
```

**Ø±Ø§Ù‡â€ŒØ­Ù„:**
```bash
# Ø¨Ø±Ø±Ø³ÛŒ ÙˆØ¶Ø¹ÛŒØª MySQL
sudo systemctl status mysql

# Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ MySQL
sudo systemctl start mysql

# Ø¨Ø±Ø±Ø³ÛŒ ØªÙ†Ø¸ÛŒÙ…Ø§Øª .env
DB_HOST=localhost
DB_PORT=3306
DB_USER=telegram_user
DB_PASSWORD=your_password
```

#### 2. Ø®Ø·Ø§ÛŒ Ø³Ø´Ù† ØªÙ„Ú¯Ø±Ø§Ù…
```
âŒ Failed to connect session: AUTH_KEY_INVALID
```

**Ø±Ø§Ù‡â€ŒØ­Ù„:**
```bash
# Ø³Ø´Ù† Ø¬Ø¯ÛŒØ¯ Ø§ÛŒØ¬Ø§Ø¯ Ú©Ù†ÛŒØ¯
npm run create-session

# session string Ø±Ø§ Ø¯Ø± .env Ø¨Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ú©Ù†ÛŒØ¯
SESSION_1=new_session_string|true
```

#### 3. Ø®Ø·Ø§ÛŒ Rate Limit
```
âŒ Rate limit exceeded: Too many requests
```

**Ø±Ø§Ù‡â€ŒØ­Ù„:**
- Ú©Ø§Ù‡Ø´ ØªØ¹Ø¯Ø§Ø¯ Ø¯Ø±Ø®ÙˆØ§Ø³Øªâ€ŒÙ‡Ø§
- Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² delay Ø¨ÛŒÙ† Ø¯Ø±Ø®ÙˆØ§Ø³Øªâ€ŒÙ‡Ø§
- Ø¨Ø±Ø±Ø³ÛŒ ØªÙ†Ø¸ÛŒÙ…Ø§Øª rate limiting

#### 4. Ø®Ø·Ø§ÛŒ Ø¸Ø±ÙÛŒØª ØªÙ„Ú¯Ø±Ø§Ù…
```
âŒ CHANNELS_TOO_MUCH: Maximum channels limit reached
```

**Ø±Ø§Ù‡â€ŒØ­Ù„:**
```bash
# Ù¾Ø§Ú©Ø³Ø§Ø²ÛŒ Ú©Ø§Ù†Ø§Ù„â€ŒÙ‡Ø§ÛŒ ØºÛŒØ±ÙØ¹Ø§Ù„
curl -X POST http://localhost:3000/api/channel/cleanup \
  -H "x-api-key: your_key" \
  -d '{"days": 7}'

# ÛŒØ§ Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ø³Ø´Ù† Ø¬Ø¯ÛŒØ¯
```

### Ø§Ø¨Ø²Ø§Ø±Ù‡Ø§ÛŒ Ø¹ÛŒØ¨â€ŒÛŒØ§Ø¨ÛŒ

#### 1. Ù„Ø§Ú¯â€ŒÙ‡Ø§ÛŒ Ø³ÛŒØ³ØªÙ…
```bash
# Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ù„Ø§Ú¯â€ŒÙ‡Ø§ÛŒ Ø²Ù†Ø¯Ù‡
tail -f logs/combined.log

# Ø¬Ø³ØªØ¬Ùˆ Ø¯Ø± Ù„Ø§Ú¯â€ŒÙ‡Ø§
grep "ERROR" logs/error.log

# Ù„Ø§Ú¯â€ŒÙ‡Ø§ÛŒ Ø¯ÛŒØªØ§Ø¨ÛŒØ³
sudo tail -f /var/log/mysql/error.log
```

#### 2. Ø¨Ø±Ø±Ø³ÛŒ ÙˆØ¶Ø¹ÛŒØª Ø³Ø±ÙˆÛŒØ³â€ŒÙ‡Ø§
```bash
# ÙˆØ¶Ø¹ÛŒØª Node.js
ps aux | grep node

# ÙˆØ¶Ø¹ÛŒØª MySQL
sudo systemctl status mysql

# ÙˆØ¶Ø¹ÛŒØª Redis
redis-cli ping
```

#### 3. Ø§Ø¨Ø²Ø§Ø±Ù‡Ø§ÛŒ Ø´Ø¨Ú©Ù‡
```bash
# Ø¨Ø±Ø±Ø³ÛŒ Ù¾ÙˆØ±Øªâ€ŒÙ‡Ø§
netstat -tulpn | grep :3000

# ØªØ³Øª Ø§ØªØµØ§Ù„
curl http://localhost:3000/health

# Ø¨Ø±Ø±Ø³ÛŒ DNS
nslookup api.telegram.org
```

#### 4. Ù…Ø§Ù†ÛŒØªÙˆØ±ÛŒÙ†Ú¯ Ù…Ù†Ø§Ø¨Ø¹
```bash
# Ø§Ø³ØªÙØ§Ø¯Ù‡ CPU Ùˆ RAM
htop

# ÙØ¶Ø§ÛŒ Ø¯ÛŒØ³Ú©
df -h

# Ø§ØªØµØ§Ù„Ø§Øª Ø¯ÛŒØªØ§Ø¨ÛŒØ³
mysql> SHOW PROCESSLIST;
```

### Ø­Ù„ Ù…Ø´Ú©Ù„Ø§Øª Ø®Ø§Øµ

#### Ù…Ø´Ú©Ù„ Ø§ØªØµØ§Ù„ Ø¨Ù‡ ØªÙ„Ú¯Ø±Ø§Ù…
```bash
# Ø¨Ø±Ø±Ø³ÛŒ proxy
export HTTP_PROXY=http://your-proxy:port
export HTTPS_PROXY=http://your-proxy:port

# ØªØ³Øª Ø§ØªØµØ§Ù„
curl https://api.telegram.org
```

#### Ù…Ø´Ú©Ù„ Ø¹Ù…Ù„Ú©Ø±Ø¯ Ù¾Ø§ÛŒÛŒÙ†
```sql
-- Ø¨Ø±Ø±Ø³ÛŒ Ú©ÙˆØ¦Ø±ÛŒâ€ŒÙ‡Ø§ÛŒ Ú©Ù†Ø¯
SELECT * FROM information_schema.processlist 
WHERE time > 5;

-- Ø¨Ù‡ÛŒÙ†Ù‡â€ŒØ³Ø§Ø²ÛŒ Ø¬Ø¯Ø§ÙˆÙ„
OPTIMIZE TABLE request_logs;
ANALYZE TABLE session_channels;
```

#### Ù…Ø´Ú©Ù„ Ø­Ø§ÙØ¸Ù‡
```bash
# Ø¨Ø±Ø±Ø³ÛŒ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø­Ø§ÙØ¸Ù‡ Node.js
node --max-old-space-size=4096 src/app.js

# ØªÙ†Ø¸ÛŒÙ… Ø­Ø¯Ø§Ú©Ø«Ø± Ø­Ø§ÙØ¸Ù‡
export NODE_OPTIONS="--max-old-space-size=4096"
```

### ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Ù„Ø§Ú¯ Ù…ÙÛŒØ¯

#### application logs
```
logs/combined.log    # Ù‡Ù…Ù‡ ÙØ¹Ø§Ù„ÛŒØªâ€ŒÙ‡Ø§
logs/error.log       # ÙÙ‚Ø· Ø®Ø·Ø§Ù‡Ø§
```

#### system logs
```
/var/log/syslog      # Ù„Ø§Ú¯ Ø³ÛŒØ³ØªÙ…
/var/log/mysql/      # Ù„Ø§Ú¯ MySQL
/var/log/nginx/      # Ù„Ø§Ú¯ Nginx
```

## ğŸ“ˆ Ø¨Ù‡ÛŒÙ†Ù‡â€ŒØ³Ø§Ø²ÛŒ Ø¹Ù…Ù„Ú©Ø±Ø¯

### ØªÙ†Ø¸ÛŒÙ…Ø§Øª Node.js

#### Ø­Ø§ÙØ¸Ù‡ Ùˆ CPU
```bash
# Ø§Ø¬Ø±Ø§ Ø¨Ø§ Ø­Ø§ÙØ¸Ù‡ Ø¨ÛŒØ´ØªØ±
node --max-old-space-size=4096 src/app.js

# Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² PM2
npm install -g pm2
pm2 start src/app.js --name telegram-manager -i max
```

#### ÙØ§ÛŒÙ„ ecosystem.config.js
```javascript
module.exports = {
  apps: [{
    name: 'telegram-manager',
    script: 'src/app.js',
    instances: 'max',
    exec_mode: 'cluster',
    env: {
      NODE_ENV: 'production',
      MAX_OLD_SPACE_SIZE: 4096
    },
    log_file: 'logs/pm2.log',
    error_file: 'logs/pm2-error.log',
    out_file: 'logs/pm2-out.log'
  }]
};
```

### Ø¨Ù‡ÛŒÙ†Ù‡â€ŒØ³Ø§Ø²ÛŒ Ø¯ÛŒØªØ§Ø¨ÛŒØ³

#### ØªÙ†Ø¸ÛŒÙ…Ø§Øª MySQL
```sql
-- Ø¯Ø± /etc/mysql/my.cnf
[mysqld]
innodb_buffer_pool_size = 1G
innodb_log_file_size = 256M
max_connections = 200
query_cache_size = 128M
tmp_table_size = 128M
max_heap_table_size = 128M
```

#### Ø§ÛŒÙ†Ø¯Ú©Ø³â€ŒÙ‡Ø§ÛŒ Ø¨Ù‡ÛŒÙ†Ù‡
```sql
-- Ø¨Ø±Ø±Ø³ÛŒ Ú©ÙˆØ¦Ø±ÛŒâ€ŒÙ‡Ø§ÛŒ Ú©Ù†Ø¯
SHOW FULL PROCESSLIST;

-- ØªØ­Ù„ÛŒÙ„ Ú©ÙˆØ¦Ø±ÛŒ
EXPLAIN SELECT * FROM request_logs WHERE api_key_id = 1;

-- Ø§ÛŒÙ†Ø¯Ú©Ø³ Ø¬Ø¯ÛŒØ¯
CREATE INDEX idx_logs_performance ON request_logs(api_key_id, created_at, status_code);
```

### Ú©Ø´ Ú©Ø±Ø¯Ù†

#### Redis Caching
```javascript
// Ú©Ø´ Ú©Ø±Ø¯Ù† Ù†ØªØ§ÛŒØ¬ Ù¾Ø±Ø·Ø±ÙØ¯Ø§Ø±
const cacheKey = `channel_info:${channelId}`;
const cached = await redis.get(cacheKey);

if (cached) {
    return JSON.parse(cached);
}

const result = await getChannelInfo(channelId);
await redis.setex(cacheKey, 300, JSON.stringify(result)); // 5 Ø¯Ù‚ÛŒÙ‚Ù‡
return result;
```

#### Application-level Caching
```javascript
// Ú©Ø´ Ø¯Ø± Ø­Ø§ÙØ¸Ù‡ Ø¨Ø±Ø§ÛŒ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ø«Ø§Ø¨Øª
const cache = new Map();

function getCachedData(key, fetcher, ttl = 300000) {
    const now = Date.now();
    const item = cache.get(key);
    
    if (item && (now - item.timestamp) < ttl) {
        return item.data;
    }
    
    const data = fetcher();
    cache.set(key, { data, timestamp: now });
    return data;
}
```